sudo: required
dist: trusty
language: java
jdk:
- openjdk11
branches:
  only:
  - develop
  - master
notifications:
  slack:
    on_success: change
    on_failure: always
    secure: WpUxpXyekMkdKM1Mcxge0C3bbWZ+CnB75Cmqd69qbcTk1XRSumdwShsb38GXYUxN0/vvVsalMcbLrsg4j/7UMu7qRa9Ph4A2FEACfSASYpNtQaH5LxZqbIcOF2wi+KSYVgT5ezMxsOVlcmLC8LYTF6tKJfOTx1fHhRWXSQdSO4e9hmqbl96aK9g3AEVIF7yP1LYHC1eGu1S2tfIH6nDyuxOSrlK7bvDClywkIYDv1UpXkOLABFNARaJ8MiUaEDe5rWuRERCMLdOnDlkaEkQvwtmGBhbNBDP/30cYt0KPZPJeKnO7JM3/VPBz3YGp6Nuu++JnmQO5H3W7K8VwwajxcN3fO6xRnxIDc9y7vZeToGxqJ5fbS9tWTtiXg7kRGdINO1c2Gz9fYxoTsZVZkijmDE1nHe+FQlUx/xyiQFLwyFPhNT21ES5hrCvxn6vrRbKkmiaNJH5488hQ3LMu0ZN7uUFQHzk/mLmebXn/mpKN6ma3PbVrzpV8M7Z2tGfH1ACp/LveBIZAmFYYm2B0tsxsx7xrw47BhOrKCH+8w7PiLBRX+DcUAg8YZnXjSQMSTT8/R5Qfs5IbdF+IlJZWhzgcvjXYA2WrrAwYrdQ9EibUn3m5lP38LrhQur043HGTGBbZLizDbq+6CUDGA9lGZ0+NnecUh09oZmAaa5jgCJQ3mvs=
install: "[ ${TRAVIS_PULL_REQUEST} = 'false' ] && mvn -DskipTests=false clean deploy --settings .m2/travis-settings.xml"
script: "[ ${TRAVIS_PULL_REQUEST} = 'false' ] && mvn -DskipTests=true clean --settings .m2/travis-settings.xml"
env:
  global:
  - CEDAR_HOST=metadatacenter.orgx
  - CEDAR_ADMIN_USER_API_KEY=1234
  - CEDAR_NEO4J_HOST=127.0.0.1
  - CEDAR_NEO4J_USER_NAME=neo4j
  - CEDAR_NEO4J_USER_PASSWORD=password
  - CEDAR_NEO4J_BOLT_PORT=7687
  - CEDAR_MONGO_HOST=127.0.0.1
  - CEDAR_MONGO_PORT=27017
  - CEDAR_MONGO_APP_USER_NAME=cedarUser
  - CEDAR_MONGO_APP_USER_PASSWORD=password
  - CEDAR_ELASTICSEARCH_HOST=127.0.0.1
  - CEDAR_ELASTICSEARCH_TRANSPORT_PORT=9300
  - CEDAR_REDIS_PERSISTENT_HOST=127.0.0.1
  - CEDAR_REDIS_PERSISTENT_PORT=6379
  - CEDAR_INTERNALS_HTTP_PORT=9014
  - CEDAR_INTERNALS_ADMIN_PORT=9114
  - CEDAR_INTERNALS_STOP_PORT=9214
  - CEDAR_USER_HTTP_PORT=9005
  - CEDAR_LOG_MYSQL_HOST=127.0.0.1
  - CEDAR_LOG_MYSQL_PORT=3306
  - CEDAR_LOG_MYSQL_DB=cedar_log
  - CEDAR_LOG_MYSQL_USER=cedar_log_user
  - CEDAR_LOG_MYSQL_PASSWORD=cedar_log_password
  # BMIR_NEXUS_USERNAME
  - secure: oiljoDjIXr7LLkBPRx/VVNma8zjZ05fPgH6GRod+speJ1ov3tuBUX5YFbnuXbT4HTrnEZaShNSyrhVxwhVucT2xmvJWa7BObDlW14q51jY8GC05nHaiHcG+/83bUEIEGLhntY/d5A5y8ONk1NtUy+9lRH5o/O4BWgbnRl+11+NPt6y33Uy+O8HnUL3p6nh+2D8xIj6UY8hnat5a21qsSH5oUdN2I+Xq74E65LWU9BhtrceG8y3ytCp+vCLRyjZJ4lZnnuNil4PP4Tpj8BwtoZW1M0aP9T5wLcJzhNOr+Tqm0FXD4EAxxQ3VECuUyRn1dcZhpT+Fw3NyrzfFSYWuUdixRShLvTes0ykmRsY/zcGcKVxxLX0/brpYoNitPlAE/vLhTsRd8tgiDEcy92ueGv/t0MSPJEABGiiB+o7wQKDxRsxEUPM6CibgZ0XxOtMzeGIzHOjBq0GKa6A934DSUAJd5PClwGdqZ9JMwK9JNzz+9NCoPUUfE9/4VmIK0OMAWVp6d5NQudZvR1J8KXaBKlN+fmLBOhP+qQebibG2pXYS7PVZTn2D0voC4d4JAeIf5FW0HrecZZ6kojE3L4vHN1eLzbhrS+MOxlfGdoAZ8+RWzDQ9KaEMPCSw+TKrOv8mqXhROkcudfNWsBoCjgiPNKtnqUSkgSNK9iAhhA5/WnV8=
  # BMIR_NEXUS_PASSWORD
  - secure: HC0D54sLhb188qzIwFSjAHJoRFBspsyzbxYQdyC1h4qdCah7Kk2/IL1HHzKCOkeBX5JBySBnZ+PlVjYc70ei5z7GGO/XmIsoLz+R84zoUQN/HwU0qYKXybYrz/5Qp2rL5jrTMtzzkaETV+ErQJabEKC6otF80SXKZZrPAoyq5jnYt4uJUvnqs8V0npggijVZRY/ISeGwxSSITHmzX/86xRu64domnR5wb5Gm2eRDZraQ4bDlZStZxmvWzRyXKnApPNEcZ3MigNMMQ8sCuAFLusz2qdkruG1LhCCWXeih1UDm6z26ILSPvfoUorOSV0Hn5fI8QZ7omuLLaqJTfNzv2hogi9wmLSjizE6hIbum/hzoxgoV1rdibJ+Ql4lRqkbUbzI7hABeWVzCwXNyJnl7FsQsiTM67rVUu6W4KSItetGu1sOT34XafhITtqElzvOLwiC5I1AhaspWSY+j6bJuK9wsLXS3JFbT2kyznuFvE6eFuVsRUcRWUDzedCINWia7R44cy+IkDlCWVTwNtlOB4yBCjKYVKV25TPpXgPqUd0LwSI3DVjh6lN5HO1RYqwziR51vgDbGyTbzOypTTRagGseLmrxDCkSquhPsq9/AEWYEMove2X210vlEmKx07jwNFZhWZHbkSwZDBBgvSBPe9yCToFrN+9Dy0vxYu9ry0Y8=
